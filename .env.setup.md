# Environment Setup Guide

## Quick Start

1. **Copy the example file:**

   ```bash
   cp env.example .env.local
   ```

2. **Update the values:**
   - Change `PAYLOAD_SECRET` to a secure random string
   - Set `DATABASE_URL` for your environment

## Environment Files Explained

- **`env.example`** - Template with all available variables (committed to git)
- **`.env.local`** - Your local development config (gitignored)
- **`.env`** - Auto-created by some tools (gitignored)

## Configuration by Environment

### Local Development

```bash
DATABASE_URL=file:./database.sqlite
PAYLOAD_SECRET=your-dev-secret
NEXT_PUBLIC_SERVER_URL=http://localhost:3000
```

### Production (Vercel)

```bash
DATABASE_URL=postgresql://user:pass@host:5432/db
PAYLOAD_SECRET=your-production-secret-min-32-chars
NEXT_PUBLIC_SERVER_URL=https://your-domain.com
```

### CI/CD (GitHub Actions)

Automatically configured in workflows - no manual setup needed.

## Optional Services

### Email (Resend)

```bash
RESEND_API_KEY=re_xxxxxxxxxxxx
```

### Payments (Stripe)

```bash
NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY=pk_live_xxxxx
STRIPE_SECRET_KEY=sk_live_xxxxx
```

### Error Tracking (Sentry)

```bash
SENTRY_DSN=https://xxxxx@xxxxx.ingest.sentry.io/xxxxx
NEXT_PUBLIC_SENTRY_DSN=https://xxxxx@xxxxx.ingest.sentry.io/xxxxx
```

## Security Best Practices

✅ **Never commit `.env.local` or `.env`** - They're in `.gitignore`
✅ **Use different secrets** for dev/staging/production
✅ **Rotate secrets** regularly in production
✅ **Use 32+ character secrets** for PAYLOAD_SECRET
✅ **Store production secrets** in Vercel dashboard, not in files

## Troubleshooting

**Issue:** "PAYLOAD_SECRET is not defined"
**Fix:** Copy `env.example` to `.env.local` and set a value

**Issue:** "Database connection failed"
**Fix:** Check `DATABASE_URL` format matches your database type

**Issue:** "Module not found" errors
**Fix:** Run `bun install` after changing environment files
